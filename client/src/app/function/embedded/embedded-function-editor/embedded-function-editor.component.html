<div id="embedded-function-editor-wrapper"
  [class.right-tabs-expanded]="rightBarExpanded"
  [class.right-schema-tabs-expanded]="rightSchemaBarExpanded"
  [class.bottom-tabs-expanded]="bottomBarExpanded && !bottomBarMaximized"
  [class.bottom-tabs-maximized]="bottomBarExpanded && bottomBarMaximized">

  <section class="top-command-bar-section">
    <command-bar id="command-bar-embedded-top">
        <command  displayText="{{ 'save' | translate }}"
                  iconName="ms-Icon ms-Icon--Save"
                  (click)="saveEditorContent()"
                  cssClass="list-item clickable command">
        </command>
        <command  displayText="{{ 'run' | translate }}"
                  iconName="ms-Icon ms-Icon--Play"
                  (click)="run()"
                  cssClass="list-item clickable command">
        </command>
        <command  *ngIf="!disabled"
                  displayText="{{ 'Disable' | translate }}"
                  iconName="ms-Icon ms-Icon--Blocked"
                  (click)="toggleDisabled()"
                  cssClass="list-item clickable command">
        </command>
        <command  *ngIf="disabled"
                  displayText="{{ 'Enable' | translate }}"
                  iconName="ms-Icon ms-Icon--Completed"
                  (click)="toggleDisabled()"
                  cssClass="list-item clickable command">
        </command>
        <command  displayText="{{ '_delete' | translate }}"
                  iconName="ms-Icon ms-Icon--Delete"
                  (click)="deleteFunction()"
                  cssClass="list-item clickable command">
        </command>
        <command  displayText="{{ 'test' | translate }}"
                  iconName="ms-Icon ms-Icon--TestBeakerSolid"
                  (click)="setRightBarState()"
                  cssClass="list-item clickable command right">
        </command>
        <command  displayText="{{ 'Schema' | translate }}"
                  iconName="ms-Icon ms-Icon--RowsChild"
                  (click)="setRightSchemaBarState()"
                  cssClass="list-item clickable command right">
        </command>
        <command  *ngIf="rightSchemaBarExpanded"
                  displayText="{{ 'Update schema' | translate }}"
                  iconName="ms-Icon ms-Icon--PostUpdate"
                  (click)="saveSchema()"
                  cssClass="list-item clickable command">
            </command>
    </command-bar>
  </section>

  <section class="text-editor-title">
        <span class="clickable" (click)="navigateToList()">
          {{'functions' | translate}}
        </span>
        <span>{{functionName}}</span>
        <span>{{fileName}}</span>
  </section>

  <section class="text-editor-container" [class.disable-editor]="disabled">
      <text-editor
        [content]="initialEditorContent"
        (onContentChanged)="editorContentChanged($event)"
        [fileName]="fileName"></text-editor>
  </section>

  <embedded-function-test-tab class="right-tabs-bar"
            *ngIf="rightBarExpanded"
            [resourceId]="resourceId"
            [firstRun]="firstRun">
  </embedded-function-test-tab>

  <embedded-function-schema-tab class="right-schema-tabs-bar"
            *ngIf="rightSchemaBarExpanded"
            [resourceId]="resourceId"
            [firstRun]="firstRun">
  </embedded-function-schema-tab>

  <section class="bottom-command-bar-section">
        <command-bar id="command-bar-embedded-bottom">
          <command  displayText="{{ 'logStreaming_logs' | translate }}"
                    (click)="setBottomBarState()"
                    cssClass="list-item clickable command">
          </command>
          <span *ngIf="bottomBarExpanded" class="right-edge">
            <command  *ngIf="getLogs"
                      displayText="{{ 'logStreaming_pause' | translate }}"
                      iconName="ms-Icon ms-Icon--Pause"
                      (click)="sendLogMessage('pauseLogs')"
                      cssClass="list-item clickable command">
            </command>
            <command  *ngIf="!getLogs"
                      displayText="{{ 'logStreaming_start' | translate }}"
                      iconName="ms-Icon ms-Icon--Play"
                      (click)="sendLogMessage('startLogs')"
                      cssClass="list-item clickable command">
            </command>
            <command  displayText="{{ 'logStreaming_clear' | translate }}"
                      iconName="ms-Icon ms-Icon--StatusCircleErrorX"
                      (click)="sendLogMessage('clearLogs')"
                      cssClass="list-item clickable command">
            </command>
            <command  displayText="{{ 'logStreaming_copyLogs' | translate }}"
                      iconName="ms-Icon ms-Icon--Copy"
                      (click)="sendLogMessage('copyLogs')"
                      cssClass="list-item clickable command">
            </command>
            <command  *ngIf="!bottomBarMaximized" 
                      displayText="{{ 'logStreaming_expand' | translate }}"
                      iconName="ms-Icon ms-Icon--MiniExpand"
                      (click)="maximizeBottomBar()"
                      cssClass="list-item clickable command">
            </command>
            <command  *ngIf="bottomBarMaximized" 
                      displayText="{{ 'logStreaming_compress' | translate }}"
                      iconName="ms-Icon ms-Icon--MiniContract"
                      (click)="compressBottomBar()"
                      cssClass="list-item clickable command">
            </command>
          </span>
        </command-bar>
    </section>

  <embedded-function-logs-tab class="bottom-tabs-bar"
      *ngIf="bottomBarExpanded"
      title="Logs"
      id="FunctionsLogTab"
      [resourceId]="resourceId">
  </embedded-function-logs-tab>

</div>
