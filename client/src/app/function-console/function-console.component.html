<div class= "console-container">

    <div *ngIf="!controlsCollapsed" class="console-toolbar">
        <span class="console-empty-space"></span>
        <span class="link action" (click)="clearConsole()"
            tabindex="0" role="button" attr.aria-label="{{ 'logStreaming_clear' | translate }}">
            <i class="fa fa-book"></i>
            {{ 'logStreaming_clear' | translate }}
        </span>
        <span (click)="copyLogs($event)" class="link action"
            role="button" attr.aria-label="{{ 'logStreaming_copyLogs' | translate }}">
            <pop-over message="{{ 'logStreaming_copied' | translate }}" hideAfter="300">
                <span class="link">
                    <i class="fa fa-clone"></i>
                    {{ 'copypre_copy' | translate }}
                </span>
            </pop-over>
        </span>
        <span *ngIf="!isExpanded" class="link action" (click)="expand()"
            tabindex="0" role="button" attr.aria-label="{{ 'logStreaming_expand' | translate }}">
            <i class="fa fa-expand"></i>
            {{ 'logStreaming_expand' | translate }}
        </span>
        <span *ngIf="isExpanded" class="link action" (click)="compress()"
           tabindex="0" role="button" attr.aria-label="{{ 'logStreaming_compress' | translate }}">
            <i class="fa fa-compress"></i>
            {{ 'logStreaming_compress' | translate }}
        </span>
    </div>

    <div *ngIf="controlsCollapsed"
        class="menu-container"
        (focusin)="onMenuFocusIn()"
        (focusout)="onMenuFocusOut()">
        <div class="menu-button-container">
            <span role="button"
                tabindex="0"
                [attr.title]="'actions' | translate"
                class="link action"
                (click)="toggleMenu()"
                [activate-with-keys]>
                <span class="fa fa-ellipsis-v" aria-hidden="true"></span>
            </span>
        </div>
        <ul *ngIf="!menuHidden" role="menu" [attr.aria-label]="'context_menu' | translate" (click)="hideMenu()">
            <li role="menuitem" tabindex="0" class="link action"
                (click)="clearConsole()"
                [activate-with-keys]
                [attr.aria-label]="'logStreaming_clear' | translate">
                <span class="fa fa-book"></span>
                {{ 'logStreaming_clear' | translate }}
            </li>
            <li role="menuitem" tabindex="0" class="link action"
                (click)="copyLogs($event)"
                [activate-with-keys]
                [attr.aria-label]="'logStreaming_copyLogs' | translate">
                <span class="fa fa-clone"></span>
                {{ 'copypre_copy' | translate }}
            </li>
            <li role="menuitem" tabindex="0" class="link action"
                (click)="isExpanded ? compress() : expand()"
                [activate-with-keys]
                [attr.aria-label]="(isExpanded ? 'logStreaming_compress' : 'logStreaming_expand') | translate">
                <span [ngClass]="isExpanded ? 'fa fa-compress' : 'fa fa-expand'"></span>
                {{ (isExpanded ? 'logStreaming_compress' : 'logStreaming_expand') | translate }}
            </li>
        </ul>
    </div>

    <pre id= "console-body" class="console-body" tabindex="0"
         (keydown)="handleKeyPress($event)"
         (click)="focusConsole()">
         <span class= "console-prompt" id= "prompt">
                <span class= "console-prompt-label">{{ leftSideText }}</span><span class= "console-prompt-body"><span class= "console-command">{{ command.left }}</span><span class= "console-cursor" [class.linux-cursor]= "isLinux" *ngIf= "isFocused">{{ command.mid }}</span>{{ command.right }}</span>
         </span>
         <ng-container #prompt></ng-container>
    </pre>
</div>