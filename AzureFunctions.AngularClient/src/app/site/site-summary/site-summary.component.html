<command-bar>
  <command [displayText]="site?.properties.state === 'Running' ? ts.instant(Resources.stop) : ts.instant(Resources.start)"
    [iconUrl]="site?.properties.state === 'Running' ? 'images/stop.svg' : 'images/start.svg'" (click)="toggleState()" [disabled]="!hasWriteAccess"></command>

  <command displayText="{{ 'swap' | translate }}" iconUrl="images/swap.svg" (click)="openSwapBlade()" [disabled]="!hasWriteAccess || !hasSwapAccess || site?.properties.targetSwapSlot !== null"></command>

  <command displayText="{{ 'restart' | translate }}" iconUrl="images/restart.svg" (click)="restart()" [disabled]="!hasWriteAccess || site?.properties.state !== 'Running'"></command>

  <command displayText="{{ 'downloadProfile' | translate}}" iconUrl="images/download.svg" (click)="downloadPublishProfile()"
    [disabled]="!hasWriteAccess"></command>

  <command displayText="{{'resetPubCredentials' | translate}}" iconUrl="images/reset.svg" (click)="resetPublishCredentials()"
    [disabled]="!hasWriteAccess"></command>

  <command displayText="{{ 'downloadFunctionAppContent' | translate}}" iconUrl="images/download.svg" (click)="openDownloadFunctionAppModal()"
    [disabled]="!hasWriteAccess"></command>

  <command displayText="{{ '_delete' | translate }}" iconUrl="images/delete.svg" (click)="openDeleteBlade()" [disabled]="!hasWriteAccess"></command>
</command-bar>

<download-function-app-content (close)="hideDownloadFunctionAppModal()" *ngIf="showDownloadFunctionAppModal" [scmUrl]="scmUrl"></download-function-app-content>

<a id="hidden-publish-profile-link" *ngIf="!!publishProfileLink" [href]="publishProfileLink" [download]="site?.name + '.PublishSettings'"></a>

<div id="essentials-container">
  <div class="essentials-col">
    <div>
      <label id="statusLabel">{{'status' | translate}}</label>
      <div tabindex="0" id="statusValue" aria-labelledby="statusLabel statusValue"><img *ngIf="stateIcon" [src]="stateIcon" />{{state}}</div>
    </div>

    <div [class.invisible]="hideAvailability">
      <label id="availabilityLabel">{{'availability' | translate}}</label>
      <div [class.site-faded-text]="availabilityState === 'unknown'" tabindex="0" id="availabilityValue" aria-labelledby="availabilityLabel availabilityValue">
        <img *ngIf="availabilityIcon" [src]="availabilityIcon" />{{availabilityMesg}}
      </div>
    </div>
  </div>

  <div class="essentials-col">
    <div>
      <label id="subscriptionNameLabel">{{'subscriptionName' | translate}}</label>
      <div [class.link]="!isStandalone" [class.disabled-link]="isStandalone" (click)="openSubscriptionBlade()" tabindex="0" (keydown)="onKeyPress($event, 'subscription')" id="subscriptionNameLink" aria-labelledby="subscriptionNameLabel subscriptionNameLink">{{subscriptionName}}</div>
    </div>

    <div>
      <label id="subscriptionLabel">{{'subscription' | translate}}</label>
      <div tabindex="0" id="subscriptionValue" aria-labelledby="subscriptionLabel subscriptionValue">{{subscriptionId}}</div>
    </div>
  </div>

  <div class="essentials-col">
    <div>
      <label id="resourceGroupLabel">{{'resourceGroup' | translate}}</label>
      <div [class.link]="!isStandalone" [class.disabled-link]="isStandalone" (click)="openResourceGroupBlade()" tabindex="0" (keydown)="onKeyPress($event, 'resourceGroup')" id="resourceGroupLink" aria-labelledby="resourceGroupLabel resourceGroupLink">{{resourceGroup}}</div>
    </div>

    <div>
      <label id="locationLabel">{{'location' | translate}}</label>
      <div tabindex="0" id="locationValue" aria-labelledby="locationLabel locationValue">{{location}}</div>
    </div>
  </div>

  <div class="essentials-col">
    <div>
      <label id="urlLabel">URL</label>
      <div [class.link]="!isStandalone" [class.disabled-link]="isStandalone" (click)="openUrl()" tabindex="0" (keydown)="onKeyPress($event, 'url')" id="urlLink" aria-labelledby="urlLabel urlLink">{{url}}</div>
    </div>

    <div>
      <label id="appServicePlanLabel">{{'appServicePlanPricingTier' | translate}}</label>
      <div [class.link]="!isStandalone" [class.disabled-link]="isStandalone" (click)="openPlanBlade()" tabindex="0" (keydown)="onKeyPress($event, 'appServicePlan')" id="appServicePlanLink" aria-labelledby="appServicePlanLabel appServicePlanLink">{{plan}}</div>
    </div>
  </div>

</div>

<div id="site-summary-body">
  <div *ngIf="!isStandalone" id="site-summary-features">
    <h3>{{ 'enabledFeatures_header' | translate }}</h3>
    <site-enabled-features [siteInput]="site"></site-enabled-features>
  </div>  
</div>
