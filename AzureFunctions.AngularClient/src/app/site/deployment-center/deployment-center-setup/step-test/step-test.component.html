<div class="settings-group-wrapper" [formGroup]="wizard?.testEnvironmentSettings" novalidate>

  <h3 class="first-config-heading">Load Testing</h3>

  <div class="settings-wrapper">
    <div class="setting-wrapper">
      <div class="setting-label">Enable Test Environment
      </div>
      <div class="setting-control-container">
        <radio-selector [control]="wizard?.testEnvironmentSettings?.controls?.enabled" [options]="testEnvironmentOptions" [highlightDirty]="true">
        </radio-selector>
      </div>
    </div>
    <div *ngIf="wizard?.wizardValues?.buildSettings?.testEnvironment?.enabled">

      <div class="setting-wrapper">
        <div class="setting-label">App Service Plan</div>
        <div class="setting-control-container">
          <div class="newOrExistingSelection">
            <radio-selector [control]="wizard?.testEnvironmentSettings?.controls?.newApp" [options]="newAppServicePlanOptions" [highlightDirty]="true">
            </radio-selector>
          </div>
          <ng-select *ngIf="wizard?.wizardValues?.buildSettings?.testEnvironment?.newApp === false" class="custom-select" [loading]="appServicePlansLoading"
            [items]="appServicePlanList" bindLabel="displayLabel" bindValue="value" placeholder="Select App Service Plan" [(ngModel)]="selectedAppServicePlan"
            formControlName="vstsAccount" (change)="aspChanged($event)">
          </ng-select>
          <textbox *ngIf="wizard?.wizardValues?.buildSettings?.testEnvironment?.newApp === true" [control]="wizard?.buildSettings?.controls?.testEnvironment?.controls?.AppServicePlanId"
            [placeholder]="'Enter App Service Plan Name'"></textbox>
        </div>
      </div>


      <div class="setting-wrapper" *ngIf="wizard?.wizardValues?.buildSettings?.testEnvironment?.newApp === false">
        <div class="setting-label">Web App</div>
        <div class="setting-control-container">
          <ng-select class="custom-select" [items]="appsList" bindLabel="displayLabel" [loading]="appsLoading" bindValue="value" placeholder="Select Web App"
            [(ngModel)]="selectedWebApp" formControlName="WebAppId">
          </ng-select>
        </div>
      </div>

      <div class="setting-wrapper">
        <div class="setting-label">Enable Load Testing
        </div>
        <div class="setting-control-container">
          <radio-selector [control]="wizard?.testEnvironmentSettings?.controls?.loadTestingEnabled" [options]="enableLoadTestingOptions"
            [highlightDirty]="true">
          </radio-selector>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="footer ">
  <button type="button " class="custom-button " style="margin-top:12px " previousStep>Back</button>
  <button type="button " class="custom-button " style="margin-top:12px " nextStep>Continue</button>